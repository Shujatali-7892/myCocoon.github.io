
!function(e,t,r){window.location.href.toLocaleLowerCase().indexOf("isformsdebug=true");var a="undefined"!=typeof jQuery,i="",n=".isRequired",s="isMandatory",o={websiteName:"Unamed Website",validateRecaptchaV2:!0,scrollOnFirstError:!0,showAlertOnSubmitIfFormIsNotValid:!0,alertMessageFormIsNotValid:"The form is invalid. Please check all mandatory fields.",returnValueIfHidden:!1,onFinishedLoading:function(){},onFinisedTabClick:function(){}},l={},u={validateRecaptchaV2Success:"Success response from /ajax-calls/ValidateRecaptchaV2: {0}",validateRecaptchaV2ErrorBodyHtml:"<p>PageStatusCode: {0}<br>TextStatus: {1}<br>ErrorThrown: {2}</p><p>Browser Info:</p><hr>{3}",validateRecaptchaV2ErrorSubject:"Error response from /ajax-calls/ValidateRecaptchaV2 | {0}",sendMailError1:"Error from /genericsendemail",sendMailError2:"Error response from /genericsendemail. PageStatusCode: {0}, ResposeText: {1}, TextStatus: {2}, ErrorThrown: {3}",sendMailSuccess:"Success response from /genericsendemail"},c={init:function(){this.select()},select:function(){r(i).on({change:function(){r(this).blur()},focus:function(){r(this).parent().addClass("isFocus")},blur:function(){r(this).parent().removeClass("isFocus")},keyup:function(e){27==e.keyCode&&r(this).parent().addClass("isFocus")}},".formElement.isDDL select")},toogleOverlay:function(){r(".isOverlay",i).toggleClass("hide")}},d={init:function(){this.ddlOnSelectIndexChanage(),this.inputTextOnBlur(),this.rbListOnChecked(),this.chkListOnChecked(),this.onTabClick(l.onFinisedTabClick)},ddlOnSelectIndexChanage:function(){r(i).on("change","select.isRequired",(function(){var e=null==r(this).attr("default-value")?r("option",this).eq(0).attr("value"):r(this).attr("default-value"),t=r("option:selected",this).val();t==e?r(this).addClass(s):r(this).removeClass(s),r(this).parent().removeClass("isFocus"),log("defaultValue:"+e+", currentValue: "+t)}))},inputTextOnBlur:function(){function onBlur(){if(0===r(this).val().length)r(this).addClass(s);else if("email"===r(this)[0].type)isForms.isEmailValid(r(this).val())?r(this).removeClass(s):r(this).addClass(s);else r(this).removeClass(s)}r(i).on("blur","input[type='text'].isRequired",onBlur).on("keyup","input[type='text'].isRequired",onBlur),r(i).on("blur","input[type='password'].isRequired",onBlur).on("keyup","input[type='password'].isRequired",onBlur),r(i).on("blur","input[type='email'].isRequired",onBlur).on("keyup","input[type='email'].isRequired",onBlur),r(i).on("blur","textarea.isRequired",onBlur).on("keyup","textarea.isRequired",onBlur)},rbListOnChecked:function(){r(".rbList",i).each((function(e,t){var a=r(t).attr("id");a=null==a||null==a?"":"#"+a,r(i).on("change",a+".rbList"+".isRequired input[type='radio']",(function(){r(this).parents(a+".rbList"+n).removeClass(s)}))}))},chkListOnChecked:function(){r(".chkList",i).each((function(e,t){var a=r(t).attr("id");a=null==a||null==a?"":"#"+a,r(i).on("change",a+".chkList"+".isRequired input[type='checkbox']",(function(){r("[type='checkbox']:checked",r(this).parents(a+".chkList"+n)).length>0?r(this).parents(a+".chkList"+n).removeClass(s):r(this).parents(a+".chkList"+n).addClass(s)}))}))},onTabClick:function(e){r(i).on("click change touchstart","[data-tab]",(function(){var t=r(this).attr("data-tab"),a=null==r(this).attr("data-tab-container")||null==r(this).attr("data-tab-container")?"":r(this).attr("data-tab-container")+" ",n=r(a+"[data-tab-toShow*='"+t+"']",i);null!=t&&0!==t.length?(r(a+"[data-tab-toShow]").addClass("hide"),r(n).removeClass("hide"),r(".isMandatory",n).removeClass(s),e()):log("onTabClick -> data-tab attribute is empty")}))}};function log(e){}function isForms(){}isForms.init=function(e,t){l=null==t?o:t,i=e,a?(d.init(),r(document).ready((function(){r(i).length?(c.init(),l.onFinishedLoading()):log("Container Selector '"+i+"' not found, exit!")}))):log("jQuery not found, exit!")},isForms.toogleOverlay=function(){return c.toogleOverlay()},isForms.setOverlayText=function(e){r(".isOverlay .message",i).text(e)},isForms.log=function(e){return log(e)},isForms.isEmailValid=function(e){return/^((([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/.test(e)},isForms.isNumber=function(e){return!(null==(e=r.trim(e))||"undefined"==e||0==e.length||e.indexOf(" ")>-1||e.indexOf("\\")>-1)&&(!isNaN(parseFloat(e))&&isFinite(e))},isForms.parseFloat2Decimals=function(e){return null===e||0===e.length?(log("Invalid value from isForms.parseFloat2Decimals="+e),0):"string"==typeof e||e instanceof String?parseFloat(parseFloat(e.replace(",",".")).toFixed(2)):0},isForms.stringFormat=function(){for(var e=arguments,t=[],r=e[0],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return r.replace(/{(\d+)}/g,(function(e,r){return void 0!==t[r]?t[r]:e}))},isForms.isRBListValid=function(e){return r("input[type='radio']:checked",e).length>0},isForms.isCHKListValid=function(e){return r("input[type='checkbox']:checked",e).length>0},isForms.validateForm=function(){var e=0;return r("select.isRequired, textarea.isRequired, input[type='text'].isRequired, input[type='password'].isRequired, input[type='email'].isRequired, .rbList.isRequired, .chkList.isRequired, .g-recaptcha",i).each((function(t,a){if(!(r(a).parents(".hide").length>0)){var n=r(a).attr("id");switch(null!=n&&0!==n.length||(n=r(a).attr("name")),null!=n&&0!==n.length||(n=r(a).attr("data-isElementIdentifier")),r(a)[0].type){case"email":0===r(a).val().length?(r(a).addClass(s),e++,log("ValidateForm -> error on element type='"+r(a)[0].type+" | "+n+"' - input is empty")):isForms.isEmailValid(r(a).val())?r(a).removeClass(s):(r(a).addClass(s),e++,log("ValidateForm -> error on element type='"+r(a)[0].type+" | "+n+"' - input email is invalid"));break;case"select-one":var o=null==r(a).attr("default-value")?r("option",a).eq(0).attr("value"):r(a).attr("default-value");r("option:selected",a).val()==o?(r(a).addClass(s),e++,log("ValidateForm -> error on element type='"+r(a)[0].type+" | "+n+"' - no value selected")):r(a).removeClass(s);break;default:if(r(a).hasClass("rbList")){isForms.isRBListValid(r(a))?r(a).removeClass(s):(r(a).addClass(s),e++,log("ValidateForm -> error on element type='rbList | "+n+"' - nothing is selected"));break}if(r(a).hasClass("chkList")){isForms.isCHKListValid(r(a))?r(a).removeClass(s):(r(a).addClass(s),e++,log("ValidateForm -> error on element type='chkList | "+n+"' - nothing is selected"));break}if(r(a).hasClass("g-recaptcha")){if(l.validateRecaptchaV2){if("undefined"==typeof grecaptcha){e++,log("ValidateForm -> error on element type='g-recaptcha | "+n+"' - is undefined. Is Recaptcha API loaded ?");break}""==grecaptcha.getResponse()?(e++,r(".g-recaptchaWrapper .textErrorMessage",i).addClass(s).addClass("elementShake").removeClass("hide"),setTimeout((function(){r(".g-recaptchaWrapper .textErrorMessage",i).removeClass("elementShake")}),1e3),log("ValidateForm -> error on element type='g-recaptcha | "+n+"' - grecaptcha.getResponse is empty")):(r(".g-recaptchaWrapper .textErrorMessage",i).addClass("hide"),log("ValidateForm -> error on element type='g-recaptcha | "+n+"' - Recaptcha is valid!"))}break}0===r(a).val().trim().length?(r(a).addClass(s),e++,log("ValidateForm -> error on element type='"+r(a)[0].type+" | "+n+"' - input is empty")):r(a).removeClass(s)}}})),l.scrollOnFirstError&&e>0&&isForms.scrollToFirstError(".isMandatory"),l.showAlertOnSubmitIfFormIsNotValid&&e>0&&alert(l.alertMessageFormIsNotValid),log("ValidateForm -> number of errors is: "+e),0===e},isForms.getBrowserInfo=function(){var e="<p>N/A</p>";try{e="<p>Browser CodeName: "+navigator.appCodeName+"<br>Browser Name: "+navigator.appName+"<br>Browser Version: "+navigator.appVersion+"<br>Cookies Enabled: "+navigator.cookieEnabled+"<br>Browser Language: "+navigator.language+"<br>Browser Online: "+navigator.onLine+"<br>Platform: "+navigator.platform+"<br>User-agent header: "+navigator.userAgent+"</p>"}catch(t){e="<p>Error: N/A</p>"}return e},isForms.getInputTextValue=function(e,t){var a=null;return r(e).length?!l.returnValueIfHidden&&r(e).parents(".hide").length?t?0:"":(a=r.trim(r(e).val()),t&&(a=parseInt(a,10)),a):a},isForms.getDDLSelectdValue=function(e,t){var a=null;if(!r(e).length)return a;if(!l.returnValueIfHidden&&r(e).parents(".hide").length)return t?0:"";var i=r(e)[0];return a=r.trim(i.options[i.selectedIndex].value),t&&(a=parseInt(a,10)),a},isForms.getDDLSelectdText=function(e){var t=null;if(!r(e).length)return t;if(!l.returnValueIfHidden&&r(e).parents(".hide").length)return"";var a=r(e)[0];return t=r.trim(a.options[a.selectedIndex].text)},isForms.getRBListSelectedValue=function(e,t){var a="";return r(e).length?!l.returnValueIfHidden&&r(e).parents(".hide").length?t?0:"":(a=r.trim(r("input[type='radio']:checked",e).val()),t&&(a=parseInt(a,10)),a):a},isForms.getRBListSelectedText=function(e,t){var a="",i="";return r(e).length?!l.returnValueIfHidden&&r(e).parents(".hide").length?t?0:"":(null==(i=r("input[type='radio']:checked",e).attr("data-text"))&&(i=r("input[type='radio']:checked",".rbList.paymentType").parent().find("label").text()),a=r.trim(i),t&&(a=parseInt(a,10)),a):a},isForms.getCHKListSelectedValues=function(e,t){var a="";return r(e).length?!l.returnValueIfHidden&&r(e).parents(".hide").length?"":(null!=t&&t.length||(t=","),r("input[type='checkbox']:checked",e).each((function(){a+=r.trim(r(this).val())+t})),a.slice(0,-t.length)):a},isForms.getCHKListSelectedTexts=function(e,t){var a="";return r(e).length?!l.returnValueIfHidden&&r(e).parents(".hide").length?"":(null!=t&&t.length||(t=","),r("input[type='checkbox']:checked",e).each((function(){var e=r(this).attr("data-text");null==e&&(e=r(this).parent().find("label").text()),a+=r.trim(e)+t})),a.slice(0,-t.length)):a},isForms.sendEmail=function(e,t,a,i,n,s){null==n&&(n=""),null==s&&(s="/genericsendemail"),r.post(s,{mailFrom:e,mailTo:t,subject:a,body:i,replyTo:n,__RequestVerificationToken:r("input[name='__RequestVerificationToken']").length?r("input[name='__RequestVerificationToken']").val():""}).done((function(e){"error"===e?isForms.log(u.sendMailError1):isForms.log(u.sendMailSuccess)})).fail((function(e,t,r){isForms.log(isForms.stringFormat(u.sendMailError2,e.status,e.responseText,t,r))}))},isForms.scrollToFirstError=function(e){try{r(e).length?r("html,body").animate({scrollTop:r(e).offset().top-100},500):log("Element on function: scrollToFirstError doesn't exists. Selector: "+r(e).selector)}catch(t){log("Error on function: scrollToFirstError. Selector: "+r(e).selector)}},isForms.gdprResult=function(){return!!(r(".GDPR-tickBox").parent().hasClass("hide")||r(".GDPR-tickBox.consetBox.checked").length||r(".GDPR-tickBox.consetBox.noConsent").length)||(r(".GDPR-tickBox.consetBox .GDPR-tickBox__popup").show(),r(".GDPR-tickBox.consetBox .GDPR-tickBox__button").off("click").on("click",(function(){r(this).hasClass("js-gdpr-no")?r(".GDPR-tickBox.consetBox").addClass("checked"):r(".GDPR-tickBox.consetBox").addClass("noConsent"),r(".GDPR-tickBox.consetBox .GDPR-tickBox__popup").hide()})),!1)},isForms.formStrings=u,e.isFormsValidateRecaptchaV2=function(e){var t=new Object;t.token=e,r.post("/ajax-calls/ValidateRecaptchaV2",JSON.stringify(t)).done((function(e){r(".g-recaptchaWrapper .textErrorMessage",i).addClass("hide").removeClass(s),log(isForms.stringFormat(u.validateRecaptchaV2Success,l.websiteName))})).fail((function(e,t,r){var a=isForms.stringFormat(u.validateRecaptchaV2ErrorSubject,l.websiteName),i=isForms.stringFormat(u.validateRecaptchaV2ErrorBodyHtml,e.status,t,r,isForms.getBrowserInfo());log(a),log(i),isForms.sendEmail("errors@interactiveschools.com","backend@interactiveschools.com",a,i)}))},e.isForms=isForms}(window,document,jQuery);
function TestContact(t){null==t&&(t="florin@interactiveschools.com");var e="test - please ignore";$("#ddlContact").val($("#ddlContact option").eq(13).val()).removeClass("isMandatory"),$("#txtFirstName").val(e).removeClass("isMandatory"),$("#txtSurname").val(e).removeClass("isMandatory"),$("#txtEmail").val(t).removeClass("isMandatory"),$("#txtPhone").val("12345678").removeClass("isMandatory"),$("#txtSubject").val(e).removeClass("isMandatory"),$("#txtMessage").val(e).removeClass("isMandatory")}!function(t,e,r){var o="errors@interactiveschools.com",a="backend@interactiveschools.com",s="undefined"==typeof isFormsWebsiteName?"Interactive Schools Default":isFormsWebsiteName,n={htmlEntities:function(t){return null==t?"":t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},getFormDataForEmail:function(t){var e="<p><b>Ajax Error Info:</b></p><p>PageStatusCode: {0}<br>TextStatus: {1}<br>ErrorThrown: {2}</p>";return null==t&&(t={includeAjaxErr:!0,jqXHR:"N/A",textStatus:"N/A",errorThrown:"N/A",prependCustomText:""}),t.includeAjaxErr||(e=""),(null!=t.prependCustomText&&t.prependCustomText.length?t.prependCustomText+"<hr>":"")+(t.includeAjaxErr?isForms.stringFormat(e,t.jqXHR,t.textStatus,t.errorThrown)+"<hr>":"")+"<p><b>Browser Info:</b></p>"+isForms.getBrowserInfo()+"<hr><p><b>Form Data:</b></p><p>CaptchaInputText: "+grecaptcha.getResponse()+" <br>ddlContact: "+n.htmlEntities(isForms.getDDLSelectdValue("#ddlContact"))+"<br>departmentName: "+n.htmlEntities(isForms.getDDLSelectdText("#ddlContact"))+"<br>txtFirstName: "+n.htmlEntities(isForms.getInputTextValue("#txtFirstName"))+"<br>txtSurname: "+n.htmlEntities(isForms.getInputTextValue("#txtSurname"))+"<br>txtContactNumber: "+n.htmlEntities(isForms.getInputTextValue("#txtEmail"))+"<br>txtEmailAddress: "+n.htmlEntities(isForms.getInputTextValue("#txtEmail"))+"<br>txtSubject: "+n.htmlEntities(isForms.getInputTextValue("#txtSubject"))+"<br>txtMessage: "+n.htmlEntities(isForms.getInputTextValue("#txtMessage"))+"<br>SendConfirmation: true<br>GDPRConsent: "+isForms.gdprResult()+"</p>"}},i={init:function(){this.onSubmitForm()},onSubmitForm:function(){r(".btnSubmit").on("click",(function(){var t=this;if("send message"!==r(".text",t).text().toLowerCase())return alert("Please wait for the form to finish loading."),!1;if(isForms.validateForm()){if(!isForms.gdprResult())return!1;if("Who do you wish to contact?"==n.htmlEntities(isForms.getDDLSelectdText("#ddlContact")))return alert("The form is invalid. Please select a recipient from the dropdown."),!1;r(".text",t).text("Sending..."),r(t).addClass("show-loader"),isForms.toogleOverlay(),isForms.setOverlayText("Sending..."),r.post("/contact",{CaptchaInputText:grecaptcha.getResponse(),ddlContact:n.htmlEntities(isForms.getDDLSelectdValue("#ddlContact")),departmentName:n.htmlEntities(isForms.getDDLSelectdText("#ddlContact")),txtFirstName:n.htmlEntities(isForms.getInputTextValue("#txtFirstName")),txtSurname:n.htmlEntities(isForms.getInputTextValue("#txtSurname")),txtContactNumber:n.htmlEntities(isForms.getInputTextValue("#txtPhone")),txtEmailAddress:n.htmlEntities(isForms.getInputTextValue("#txtEmail")),txtSubject:n.htmlEntities(isForms.getInputTextValue("#txtSubject")),txtMessage:n.htmlEntities(isForms.getInputTextValue("#txtMessage")),clientSubject:null,endUserSubject:null,SendConfirmation:"true",htmlFile:"/Resources/FormsEmail/contact.htm",GDPRConsent:isForms.gdprResult()&&!r(".GDPR-tickBox.consetBox.noConsent").length?"true":"false",VerifyCaptcha:!0}).done(i.onSubmitFormOnSuccess).fail(i.onSubmitFormOnError)}return!1}))},onSubmitFormOnSuccess:function(t){var e=r(".btnSubmit"),i=!1;switch(t){case"ok":return window.location.href="/contact/thank-you",r(".text",e).text("Send Message"),r(e).removeClass("show-loader"),void isForms.setOverlayText("Redirecting, please wait...");case"error":i=!0,alert("An error has occured. Please refresh the page and try again. [code1]");break;case"invalid":i=!0,alert("An error has occured. Please refresh the page and try again. [code2]");break;default:i=!0,alert("An error has occured. Please refresh the page and try again. [code3]")}i&&isForms.sendEmail(o,a,"Error OnSuccess | /contact (POST -> CommandName: 'SubmitContact') | "+s,n.getFormDataForEmail({includeAjaxErr:!1,prependCustomText:"<p>On onSubmitFormOnSuccess() -> response: "+t+"</p>"})),r(".text",e).text("Send Message"),r(e).removeClass("show-loader"),isForms.toogleOverlay(),isForms.setOverlayText("")},onSubmitFormOnError:function(t,e,i){var l=r(".btnSubmit");r(".text",l).text("Send Message"),r(l).removeClass("show-loader"),isForms.toogleOverlay(),isForms.setOverlayText(""),alert("An error has occured. Please refresh the page and try again. [code4]"),isForms.sendEmail(o,a,"Error | /contact (POST -> CommandName: 'SubmitForm') | "+s,n.getFormDataForEmail({includeAjaxErr:!0,jqXHR:t.status,textStatus:e,errorThrown:i}))}};function contactForm(){}contactForm.helpers=n,contactForm.events=i,t.contactForm=contactForm,r(document).ready((function(){setTimeout((function(){i.init(),isForms.init("#frmContactForm",{websiteName:s,validateRecaptchaV2:!0,scrollOnFirstError:!0,showAlertOnSubmitIfFormIsNotValid:!0,alertMessageFormIsNotValid:"The form is invalid. Please check all mandatory fields.",returnValueIfHidden:!1,onFinishedLoading:function(){window.location.href.toLocaleLowerCase().indexOf("loadtestdata=true")>-1&&TestContact()},onFinisedTabClick:function(){}})}),1e3)}))}(window,document,jQuery);